{"version":3,"sources":["views/PreScreen/index.module.scss","views/PreScreen/Tips/index.module.scss","views/PreScreen/ChooseEar/index.module.scss","views/PreScreen/FirstEar/index.module.scss","views/PreScreen/TonePlay/index.module.scss","views/PreScreen/HowMany/index.module.scss","views/PreScreen/NewTone/index.module.scss","views/PreScreen/SecondEar/index.module.scss","views/AudioTest/NoiseDetect/index.module.scss","views/AudioTest/index.module.scss","components/SCButton/index.module.scss","views/LottieTest/index.module.scss","contexts/PrescreenContext.js","utils/webAudio.js","views/AudioTest/NoiseDetect/index.js","views/AudioTest/index.js","components/SCButton/index.js","views/PreScreen/Tips/index.js","views/PreScreen/ChooseEar/index.js","views/PreScreen/FirstEar/index.js","views/PreScreen/TonePlay/index.js","views/PreScreen/HowMany/index.js","views/PreScreen/NewTone/index.js","views/PreScreen/SecondEar/index.js","views/PreScreen/index.js","views/LottieTest/index.js","routes.js","App.js","index.js"],"names":["module","exports","preScreen","invisible","tips","chooseEar","firstEar","tonePlay","howMany","newTone","secondEar","noiseDetect","audioTest","scButton","lottieTest","Children","scAudio","window","oscillator","gainNodeL","gainNodeR","resetAudio","frequency","ear","volume","gate","resetNow","arguments","length","undefined","resume","value","ampOutput","Math","pow","earInt","parseInt","gain","setTargetAtTime","stopAudio","stopNow","noiseDetectData","NoiseDetect","props","react_default","a","createElement","className","styles","id","onClick","startDetect","stopDetect","document","getElementById","innerHTML","detectButton","setTimeout","history","push","stream","getTracks","forEach","track","stop","microphone","disconnect","analyser","processor","noisyAudio","destination","suspend","close","then","onaudioprocess","navigator","mediaDevices","getUserMedia","audio","AudioContext","webkitAudioContext","createMediaStreamSource","createAnalyser","smoothingTimeConstant","fftSize","createScriptProcessor","connect","array","Uint8Array","frequencyBinCount","getByteFrequencyData","values","i","average","round","catch","err","console","log","volumeGlobal","intervalArray","timeoutArray","AudioTest","_useState","useState","_useState2","Object","slicedToArray","setVolume","_useState3","_useState4","setGate","useEffect","setOscillator","setPan","setGain","start","playPulseFlow","interval","clearInterval","timeout","clearTimeout","frequencySelect","newFrequency","options","selectedIndex","panSelect","newEar","newVolume","playPulseAudio","delay","setInterval","pluseLength","onChange","type","min","max","defaultValue","step","initialState","flowIndex","earIndex","reducer","state","action","payload","objectSpread","includes","Error","PrescreenContext","React","createContext","SCButton","title","style","classNames","Tips","prescreenContext","useContext","defineProperty","components_SCButton","gotoNext","ChooseEar","FirstEar","currentEar","render","TonePlay","display","HowMany","chooseNumber","number","NewTone","SecondEar","nextEar","PrescreenContextProvider","setToneFlow","stopTone","playTone","dispatch","_props","PreScreen_Tips","PreScreen_ChooseEar","PreScreen_FirstEar","PreScreen_TonePlay","PreScreen_HowMany","PreScreen_NewTone","PreScreen_SecondEar","_useReducer","useReducer","_useReducer2","Provider","LottieTest","Routes","Fragment","react_router","exact","path","component","PreScreen","withRouter","routes","ReactDOM","react_router_dom","src_App_0"],"mappings":"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","file":"static/js/main.5c2e8ef9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preScreen\":\"PreScreen_preScreen__2sTdO\",\"invisible\":\"PreScreen_invisible__2VJIf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tips\":\"Tips_tips__gHWAH\",\"invisible\":\"Tips_invisible__1hgSW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chooseEar\":\"ChooseEar_chooseEar__2TmTa\",\"invisible\":\"ChooseEar_invisible__1O-fQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"firstEar\":\"FirstEar_firstEar__1fw2E\",\"invisible\":\"FirstEar_invisible__1p6nE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tonePlay\":\"TonePlay_tonePlay__35ne4\",\"invisible\":\"TonePlay_invisible__16pgV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"howMany\":\"HowMany_howMany__5TRCr\",\"invisible\":\"HowMany_invisible__SX3Qd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newTone\":\"NewTone_newTone__3GdvJ\",\"invisible\":\"NewTone_invisible__1FpIC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"secondEar\":\"SecondEar_secondEar__1bC_4\",\"invisible\":\"SecondEar_invisible__1Ui9W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noiseDetect\":\"NoiseDetect_noiseDetect__oaAEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audioTest\":\"AudioTest_audioTest__1nQqo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scButton\":\"SCButton_scButton__19Sd9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lottieTest\":\"LottieTest_lottieTest__1hiz4\"};","import React, { useReducer } from 'react'\n\nconst initialState = {\n  flowIndex: 0,\n  earIndex: -1, // -1:left,1:right\n  tips: true\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_DATA':\n      const flowIndex = action.payload.flowIndex || 0\n      return {\n        ...state,\n        ...(action.payload || {}),\n        tips: flowIndex === 0,\n        chooseEar: flowIndex === 1,\n        firstEar: flowIndex === 2,\n        tonePlay: [3, 6, 9, 12].includes(flowIndex),\n        howMany: [4, 7, 10, 13].includes(flowIndex),\n        newTone: [5, 11].includes(flowIndex),\n        secondEar: flowIndex === 8\n      }\n    default:\n      throw new Error()\n  }\n}\n\nexport const PrescreenContext = React.createContext({})\n\nexport const PrescreenContextProvider = (Children) => {\n  const Provider = props => {\n    const [state, dispatch] = useReducer(reducer, initialState)\n\n    return (\n      <PrescreenContext.Provider value={{ ...state, dispatch }}>\n        <Children {...props} />\n      </PrescreenContext.Provider>\n    )\n  }\n  return Provider\n}\n","const resetDelay = 0.01\n\nconst scAudio = window.scAudio\nconst oscillator = window.oscillator\nconst gainNodeL = window.gainNodeL\nconst gainNodeR = window.gainNodeR\n\nexport const resetAudio = (frequency, ear, volume, gate, resetNow = false) => {\n  scAudio.resume()\n  oscillator.frequency.value = frequency\n  const ampOutput = Math.pow(10, volume * 0.05) * gate\n  const earInt = parseInt(ear)\n  gainNodeL.gain.setTargetAtTime(ampOutput * (earInt !== 1 ? 1 : 0), 0, resetNow ? 0 : resetDelay)\n  gainNodeR.gain.setTargetAtTime(ampOutput * (earInt !== -1 ? 1 : 0), 0, resetNow ? 0 : resetDelay)\n}\n\nexport const stopAudio = (stopNow = false) => {\n  scAudio.resume()\n  gainNodeL.gain.setTargetAtTime(0, 0, stopNow ? 0 : resetDelay)\n  gainNodeR.gain.setTargetAtTime(0, 0, stopNow ? 0 : resetDelay)\n}\n\nexport const detectMediaDevices = () => {\n  const constraints = { audio: true }\n  navigator.mediaDevices.getUserMedia(constraints)\n    .then(stream => {\n      if (stream.active) {\n        if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n          console.log(\"[detectMediaDevices]\", \"enumerateDevices() not supported.\")\n          return\n        }\n        navigator.mediaDevices.enumerateDevices()\n          .then(devices => {\n            devices.forEach(device => {\n              console.log(\"[detectMediaDevices]\", device.kind + \": \" + device.label + \" id = \" + device.deviceId + \" group = \" + device.groupId)\n            })\n          })\n          .catch(function (err) {\n            console.log(\"[detectMediaDevices]\", err.name + \": \" + err.message)\n          })\n      } else {\n        console.log(\"[detectMediaDevices]\", \"mediaStream is not be granted\")\n      }\n    })\n    .catch(function (err) {\n      console.log(\"[detectMediaDevices]\", err)\n    })\n}\n\n\nvar noiseDetectData = {}\n\nexport const noiseDetect = (startDetect, stopDetect) => {\n  if (noiseDetectData.stream) {\n    noiseDetectData.stream.getTracks().forEach(track => track.stop())\n    noiseDetectData.microphone.disconnect(noiseDetectData.analyser)\n    noiseDetectData.analyser.disconnect(noiseDetectData.processor)\n    noiseDetectData.processor.disconnect(noiseDetectData.noisyAudio.destination)\n    noiseDetectData.noisyAudio.suspend()\n    noiseDetectData.noisyAudio.close().then(() => {\n      noiseDetectData.microphone = null\n      noiseDetectData.analyser = null\n      noiseDetectData.processor.onaudioprocess = null\n      noiseDetectData.processor = null\n      noiseDetectData.noisyAudio = null\n      noiseDetectData = {}\n      stopDetect()\n    })\n  } else {\n    navigator.mediaDevices.getUserMedia({ audio: true })\n      .then(stream => {\n        noiseDetectData.noisyAudio = new (window.AudioContext || window.webkitAudioContext)()\n        noiseDetectData.noisyAudio.resume()\n        noiseDetectData.stream = stream\n        noiseDetectData.microphone = noiseDetectData.noisyAudio.createMediaStreamSource(stream)\n        noiseDetectData.analyser = noiseDetectData.noisyAudio.createAnalyser()\n        noiseDetectData.analyser.smoothingTimeConstant = 0.3\n        noiseDetectData.analyser.fftSize = 1024\n        noiseDetectData.processor = noiseDetectData.noisyAudio.createScriptProcessor(2048, 1, 1)\n        noiseDetectData.microphone.connect(noiseDetectData.analyser)\n        noiseDetectData.analyser.connect(noiseDetectData.processor)\n        noiseDetectData.processor.connect(noiseDetectData.noisyAudio.destination)\n\n        noiseDetectData.processor.onaudioprocess = function () {\n          var array = new Uint8Array(noiseDetectData.analyser.frequencyBinCount)\n          noiseDetectData.analyser.getByteFrequencyData(array)\n          var values = 0\n          var length = array.length\n          for (var i = 0; i < length; i++) {\n            values += (array[i])\n          }\n          var average = values / length\n          const volume = Math.round(average)\n          startDetect(volume)\n        }\n      })\n      .catch(function (err) {\n        console.log('[LogError]===', 'getInputVolume', err, '===LOG_ERROR_END')\n      })\n  }\n}\n","import React from 'react'\nimport styles from './index.module.scss'\nimport { noiseDetect } from 'utils/webAudio'\n\nconst NoiseDetect = props => {\n  const render = () => {\n    return (\n      <div className={styles.noiseDetect}>\n        <div id=\"noiseVolume\" className=\"text\">Ambient noise level: 0</div>\n        <button id=\"detectButton\" className=\"button\" onClick={() => {\n          noiseDetect(volume => {\n            const noiseVolume = document.getElementById(\"noiseVolume\")\n            noiseVolume.innerHTML = \"Ambient noise level: \" + volume\n            const detectButton = document.getElementById(\"detectButton\")\n            detectButton.innerHTML = \"Stop\"\n          }, () => {\n            const detectButton = document.getElementById(\"detectButton\")\n            detectButton.innerHTML = \"Stoping... (About 5s)\"\n            setTimeout(() => {\n              detectButton.innerHTML = \"Detect\"\n              props.history.push(\"/audiotest\")\n            }, 5000)\n          })\n        }}>Detect</button>\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default NoiseDetect\n","import React, { useState, useEffect } from 'react'\nimport styles from './index.module.scss'\nimport { resetAudio, stopAudio } from 'utils/webAudio'\n\nconst pluseCount = 3\nconst pluseLength = 300\nconst pluseSpace = pluseLength * (pluseCount * 2 + 2)\n\nvar volumeDefault = -20\nvar volumeGlobal = volumeDefault\nvar frequency = 250\nvar ear = 0\n\nvar intervalArray = []\nvar timeoutArray = []\n\nconst AudioTest = () => {\n\n  const [volume, setVolume] = useState(volumeDefault)\n  const [gate, setGate] = useState(0)\n\n  useEffect(() => {\n    setOscillator()\n    setPan()\n    setGain()\n    window.oscillator.start()\n  }, [])\n\n  useEffect(() => {\n    if (gate) {\n      playPulseFlow()\n    } else {\n      intervalArray.forEach((interval) => {\n        window.clearInterval(interval)\n      })\n      timeoutArray.forEach((timeout) => {\n        window.clearTimeout(timeout)\n      })\n      stopAudio()\n    }\n  }, [gate])\n\n  const setOscillator = () => {\n    const frequencySelect = document.getElementById(\"frequency\")\n    const newFrequency = frequencySelect.options[frequencySelect.selectedIndex].value\n    frequency = newFrequency\n  }\n\n  const setPan = () => {\n    const panSelect = document.getElementById(\"pan\")\n    const newEar = panSelect.options[panSelect.selectedIndex].value\n    ear = newEar\n  }\n\n  const setGain = () => {\n    const newVolume = document.getElementById(\"volume\").value\n    volumeGlobal = newVolume\n    setVolume(newVolume)\n  }\n\n  const playPulseFlow = () => {\n    for (var i = 0; i < pluseCount; i++) {\n      playPulseAudio(i * 2 * pluseLength)\n    }\n  }\n\n  const playPulseAudio = (delay) => {\n    timeoutArray.push(setTimeout(() => {\n      resetAudio(frequency, ear, volumeGlobal, gate)\n      intervalArray.push(setInterval(() => {\n        resetAudio(frequency, ear, volumeGlobal, gate)\n      }, pluseSpace))\n    }, delay))\n    timeoutArray.push(setTimeout(() => {\n      stopAudio()\n      intervalArray.push(setInterval(() => {\n        stopAudio()\n      }, pluseSpace))\n    }, delay + pluseLength))\n  }\n\n  const render = () => {\n    return (\n      <div className={styles.audioTest}>\n        <h1>Audio Test</h1>\n        <div>\n          <div>\n            <h2>Frequency (hz)</h2>\n            <select id=\"frequency\" className=\"dropdown\" onChange={setOscillator}>\n              <option value=\"250\">250</option>\n              <option value=\"500\">500</option>\n              <option value=\"750\">750</option>\n              <option value=\"1000\">1000</option>\n              <option value=\"1500\">1500</option>\n              <option value=\"2000\">2000</option>\n              <option value=\"3000\">3000</option>\n              <option value=\"4000\">4000</option>\n              <option value=\"6000\">6000</option>\n              <option value=\"8000\">8000</option>\n            </select>\n          </div>\n          <div>\n            <h2>Ear selector</h2>\n            <select id=\"pan\" className=\"dropdown\" onChange={setPan}>\n              <option value=\"0\">Both</option>\n              <option value=\"-1\">Left</option>\n              <option value=\"1\">Right</option>\n            </select>\n          </div>\n          <div>\n            <h2>Volume: {volume} dbFS</h2>\n            <input id=\"volume\" type=\"range\" min=\"-96\" max=\"0\" defaultValue={volume} step=\"0.5\" className=\"slider\" onChange={setGain} />\n          </div>\n          <div>\n            <button id=\"button\" className=\"button\" onClick={() => {\n              window.scAudio.resume()\n              setGate(gate === 0 ? 1 : 0)\n            }}>{gate === 0 ? \"Play\" : \"Stop\"}</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return render()\n}\n\nexport default AudioTest\n","import React from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\n\nconst SCButton = props => {\n\n  const { title, action, style } = props\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.scButton, style)} onClick={action}>\n        {title}\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default SCButton\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\nimport SCButton from 'components/SCButton'\n\nconst Tips = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.tips, \"frame\", { [styles.invisible]: !prescreenContext.tips })}>\n        <div className=\"title\">\n          <span className=\"text\">Full screen animation</span>\n        </div>\n        <SCButton title=\"Start\" action={() => { props.gotoNext() }} style={[\"main-button\"]} />\n      </div>\n    )\n  }\n\n  return render()\n}\n\nexport default Tips\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\n\nconst ChooseEar = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.chooseEar, \"frame\", { [styles.invisible]: !prescreenContext.chooseEar })}>\n        <div className=\"text-wrapper\">\n          <span className=\"text\">Ok. Let's set a</span>\n          <span className=\"text green\">Pre-screen listening level</span>\n          <span className=\"text dot\">...........</span>\n          <span className=\"text\">Choose an <span className='yellow'>ear</span></span>\n        </div>\n        <div className=\"button-wrapper\">\n          <div className=\"left-button\" onClick={() => props.gotoNext(-1)}>Left</div>\n          <div className=\"right-button\" onClick={() => props.gotoNext(1)}>Right</div>\n        </div>\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default ChooseEar\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\nimport SCButton from 'components/SCButton'\n\nconst FirstEar = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const render = () => {\n    const currentEar = prescreenContext.earIndex === 1 ? \"Right Ear!\" : \"Left Ear!\"\n\n    return (\n      <div className={classNames(styles.firstEar, \"frame\", { [styles.invisible]: !prescreenContext.firstEar })}>\n        <div className=\"container\">\n          <span className=\"text\">{currentEar}</span>\n          <span className=\"text\">Awesome!</span>\n          <div className=\"first-button\">1</div>\n          <span className=\"text\">Find a quiet room.</span>\n          <span className=\"text\">..........</span>\n          <div className=\"second-button\">2</div>\n          <span className=\"text\">Now we’re going to play some beep tones to find the right level.</span>\n          <span className=\"text\">Tell us how many you hear.</span>\n        </div>\n        <SCButton title=\"Play\" action={() => {\n          window.scAudio.resume()\n          props.gotoNext()\n        }} style={[\"main-button\"]} />\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default FirstEar\n","import React, { useContext, useEffect } from 'react'\nimport styles from './index.module.scss'\nimport 'styles/animation.css'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\n\nconst TonePlay = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n  const display = prescreenContext.tonePlay\n\n  useEffect(() => {\n    if (display) {\n      setTimeout(() => {\n        props.gotoNext()\n      }, 5000)\n    }\n  }, [prescreenContext])\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.tonePlay, \"frame\", { [styles.invisible]: !display })}>\n        <div className=\"content\">\n          <div className=\"progress-bar\">\n            <div className=\"progress\"></div>\n          </div>\n          <span className=\"message\">Okay, the tones are playing...</span>\n        </div>\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default TonePlay\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\n\nconst HowMany = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const chooseNumber = (number) => {\n    console.log('[LogHowMany]===', number, '===LOG_TEST_END')\n    props.gotoNext()\n  }\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.howMany, \"frame\", { [styles.invisible]: !prescreenContext.howMany })}>\n        <span className=\"text title\">How many tones did you hear?</span>\n        <div className=\"button-wrapper\">\n          <div className=\"button\" onClick={() => { chooseNumber(0) }}>0</div>\n          <div className=\"button\" onClick={() => { chooseNumber(1) }}>1</div>\n          <div className=\"button\" onClick={() => { chooseNumber(2) }}>2</div>\n          <div className=\"button\" onClick={() => { chooseNumber(3) }}>3</div>\n        </div>\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default HowMany\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\nimport SCButton from 'components/SCButton'\n\nconst NewTone = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const render = () => {\n    return (\n      <div className={classNames(styles.newTone, \"frame\", { [styles.invisible]: !prescreenContext.newTone })}>\n        <div className=\"title\">\n          <span className=\"text\">\n            Please listen to a <span className='green'>new</span> set of tones\n          </span>\n        </div>\n        <SCButton title=\"Play\" action={() => { props.gotoNext() }} style={[\"main-button\"]} />\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default NewTone\n","import React, { useContext } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext } from 'contexts/PrescreenContext'\nimport SCButton from 'components/SCButton'\n\nconst SecondEar = props => {\n\n  const prescreenContext = useContext(PrescreenContext)\n\n  const render = () => {\n    const nextEar = prescreenContext.earIndex === -1 ? \"Right Ear\" : \"Left Ear\"\n\n    return (\n      <div className={classNames(styles.secondEar, \"frame\", { [styles.invisible]: !prescreenContext.secondEar })}>\n        <div className=\"title\">\n          <span className=\"text\">\n            Great!  Let's do the <span className='yellow'>{nextEar}</span> now.\n          </span>\n        </div>\n        <SCButton title=\"Play\" action={() => { props.gotoNext(0 - prescreenContext.earIndex) }} style={[\"main-button\"]} />\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default SecondEar\n","import React, { useContext, useEffect } from 'react'\nimport styles from './index.module.scss'\nimport classNames from 'classnames'\nimport { PrescreenContext, PrescreenContextProvider } from 'contexts/PrescreenContext'\nimport { resetAudio, stopAudio } from 'utils/webAudio'\nimport Tips from './Tips'\nimport ChooseEar from './ChooseEar'\nimport FirstEar from './FirstEar'\nimport TonePlay from './TonePlay'\nimport HowMany from './HowMany'\nimport NewTone from './NewTone'\nimport SecondEar from './SecondEar'\n\nconst oscillator = window.oscillator\nvar volume = 0\nvar gate = 0\n\nconst PreScreen = () => {\n\n  const prescreenContext = useContext(PrescreenContext)\n  const flowIndex = prescreenContext.flowIndex\n  const earIndex = prescreenContext.earIndex\n  const tonePlay = prescreenContext.tonePlay\n\n  useEffect(() => {\n    if (tonePlay) {\n      setToneFlow()\n    } else {\n      stopTone()\n      oscillator.frequency.value = 250\n    }\n  }, [tonePlay])\n\n  const setToneFlow = () => {\n    playTone(250)\n    setTimeout(() => {\n      stopTone()\n      oscillator.frequency.value = 1000\n    }, 1000)\n    setTimeout(() => {\n      playTone(1000)\n    }, 2000)\n    setTimeout(() => {\n      stopTone()\n      oscillator.frequency.value = 2000\n    }, 3000)\n    setTimeout(() => {\n      playTone(2000)\n    }, 4000)\n  }\n\n  const playTone = (frequency) => {\n    if ([3, 9].includes(flowIndex)) {\n      volume = 70\n    } else if ([6, 12].includes(flowIndex)) {\n      volume = 40\n    }\n    gate = 1\n    resetAudio(frequency, earIndex, (volume - 96), gate)\n  }\n\n  const stopTone = () => {\n    volume = 0\n    gate = 0\n    stopAudio()\n  }\n\n  const gotoNext = (ear = earIndex) => {\n    prescreenContext.dispatch({\n      type: \"SET_DATA\",\n      payload: {\n        flowIndex: flowIndex + 1,\n        earIndex: ear\n      }\n    })\n  }\n\n  const render = () => {\n    const _props = { gotoNext }\n    return (\n      <div className={styles.preScreen}>\n        <Tips {..._props} />\n        <ChooseEar {..._props} />\n        <FirstEar {..._props} />\n        <TonePlay {..._props} />\n        <HowMany {..._props} />\n        <NewTone {..._props} />\n        <SecondEar {..._props} />\n        <div className={classNames(\"finished\", { [styles.invisible]: flowIndex !== 14 })}>Finished PreScreen</div>\n      </div>\n    )\n  }\n\n  return render()\n}\n\nexport default PrescreenContextProvider(PreScreen)","import React from 'react'\nimport styles from './index.module.scss'\n\nconst LottieTest = props => {\n  const render = () => {\n    return (\n      <div className={styles.lottieTest}>Lottie</div>\n    )\n  }\n  return render()\n}\n\nexport default LottieTest\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport NoiseDetect from 'views/AudioTest/NoiseDetect'\nimport AudioTest from 'views/AudioTest'\nimport PreScreen from 'views/PreScreen'\nimport LottieTest from 'views/LottieTest'\n\nconst Routes = () => {\n  return (\n    <>\n      {/* <Route exact path=\"/\" component={() => <Redirect to=\"/noiseDetect\" />} /> */}\n      <Route exact path=\"/\" component={NoiseDetect} />\n      <Route exact path=\"/noiseDetect\" component={NoiseDetect} />\n      <Route path=\"/audiotest\" component={AudioTest} />\n      <Route path=\"/prescreen\" component={PreScreen} />\n      <Route path=\"/lottietest\" component={LottieTest} />\n    </>\n  )\n}\n\nexport default Routes\n","import React from 'react'\nimport { withRouter } from \"react-router\"\nimport './App.scss'\nimport Routes from './routes'\n\nconst App = () => {\n  const render = () => {\n    return (\n      <div className=\"App\">\n        <Routes />\n      </div>\n    )\n  }\n  return render()\n}\n\nexport default withRouter(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport { BrowserRouter as Router } from \"react-router-dom\"\nimport App from './App'\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'))\n"],"sourceRoot":""}